<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Word Thermometer</title>
  <link rel="stylesheet" href="style.css">
  <!-- PayPal SDK -->
  <script src="https://www.paypal.com/sdk/js?client-id=AT8dJ7A5UmgRwQ-V30IF5F_Zs49X9_2uf8UX68g6q0W8kYmgBD-l4uCD-79XgQOYg99SVzLv9KQ7g9X2&currency=USD"></script>
</head>
<body>

<div id="app">

  <!-- Top Dashboard -->
  <div id="dashboard">
    <div>Coins: <span id="coins">60</span></div>
    <div>Wins: <span id="wins">0</span></div>
    <button onclick="resetProgress()" style="padding: 4px 8px; font-size: 12px; width: auto;">Reset</button>
  </div>

  <!-- Category Selection Screen -->
  <div id="categoryScreen">
    <h2>ğŸ”¥ Word Thermometer</h2>
    <p style="text-align: center; opacity: 0.8; margin-bottom: 20px;">Guess words using temperature clues!</p>
    
    <h3>Select Category</h3>
    <button onclick="selectCategory('Food')">ğŸ• Food</button>
    <button onclick="selectCategory('Animals')">ğŸ¾ Animals</button>
    <button onclick="selectCategory('Tech')">ğŸ’» Tech</button>
    <button onclick="selectCategory('Movies')">ğŸ¬ Movies</button>
    <button onclick="selectCategory('Music')">ğŸµ Music</button>
    <button onclick="selectCategory('Sports')">âš½ Sports</button>
    
    <div style="margin-top: 20px;">
      <button onclick="toggleMonetization()" style="background: linear-gradient(135deg, #9333ea, #7c3aed);">
        ğŸ’° Store & Support
      </button>
      <button onclick="toggleHowToPlay()" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8); margin-top: 10px;">
        â“ How to Play
      </button>
    </div>
  </div>

  <!-- Difficulty Selection Screen -->
  <div id="difficultyScreen" class="hidden">
    <h2>Select Difficulty</h2>
    <button onclick="selectDifficulty('Beginner')">ğŸ¥¶ Beginner (5-6 letters)</button>
    <button onclick="selectDifficulty('Novice')">ğŸ˜… Novice (7-8 letters)</button>
    <button onclick="selectDifficulty('Expert')">ğŸ”¥ Expert (9+ letters)</button>
    
    <button onclick="goBackToCategories()" style="background: #6b7280; margin-top: 20px;">â† Back to Categories</button>
  </div>

  <!-- Game Screen -->
  <div id="gameScreen" class="hidden">
    <!-- Game Header -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
      <button onclick="goBackToCategories()" style="width: auto; padding: 8px 12px; background: #6b7280; font-size: 14px;">â† Back</button>
      <div style="text-align: center;">
        <div style="font-size: 12px; opacity: 0.8;">Category: <strong id="currentCategory"></strong></div>
        <div style="font-size: 12px; opacity: 0.8;">Difficulty: <strong id="currentDifficulty"></strong></div>
      </div>
    </div>

    <!-- Game Info -->
    <div id="infoBar">
      <div>Word Length: <span id="wordLength"></span></div>
      <div>Tries Left: <span id="tries">8</span></div>
    </div>

    <!-- Thermometer -->
    <div id="thermometerWrap">
      <div id="thermometer">
        <div id="thermoFill"></div>
      </div>
      <div id="thermoScale">
        <span>ğŸ§Š Cold</span>
        <span>ğŸŒ¤ï¸ Warm</span>
        <span>ğŸ”¥ Hot</span>
      </div>
    </div>

    <!-- Emoji Feedback -->
    <div id="emojiFlash"></div>

    <!-- Last Guesses -->
    <div id="lastGuesses">
      <h3>Last Guesses</h3>
      <ul id="guessList"></ul>
    </div>

    <!-- Hint Section -->
    <div id="hintBar">
      <div>Hints Left: <span id="hintsLeft">0</span></div>
      <button onclick="useHint()">Buy Hint (20 coins)</button>
    </div>

    <div id="hintDisplay"></div>

    <!-- Guess Input Area (Moved to BOTTOM so thermometer stays visible) -->
    <div id="guessArea">
      <input id="guessInput" type="text" placeholder="Type your guess here..." maxlength="20">
      <button onclick="submitGuess()">Submit Guess</button>
    </div>
  </div>

  <!-- Win Screen Overlay -->
  <div id="winOverlay" class="hidden">
    <div id="winCard">
      <h2>ğŸ‰ You Win! ğŸ”¥</h2>
      <p>The word was:</p>
      <div id="winWord"></div>
      <p>+10 Coins! ğŸª™</p>
      <button onclick="playAgain()" style="background: linear-gradient(135deg, #22c55e, #16a34a);">Play Again</button>
    </div>
  </div>

  <!-- How to Play Screen -->
  <div id="howToPlay" class="hidden">
    <h2>â“ How to Play</h2>
    <div style="background: #0f1236; padding: 15px; border-radius: 10px; margin: 15px 0;">
      <p><strong>ğŸ¯ Goal:</strong> Guess the hidden word!</p>
      <p><strong>ğŸŒ¡ï¸ Thermometer:</strong> Shows how close your guess is</p>
      <p><strong>ğŸ§Šâ†’ğŸ”¥:</strong> Cold (far) to Hot (close)</p>
      <p><strong>ğŸ’¡ Hints:</strong> All hints cost 20 coins</p>
      <p><strong>ğŸª™ Coins:</strong> Start with 60 coins, +10 for winning</p>
      <p><strong>ğŸ’° Store:</strong> Buy hint packs, remove ads, golden skin!</p>
    </div>
    
    <button onclick="toggleHowToPlay()">â† Back to Game</button>
  </div>

  <!-- Store & Support Screen -->
  <div id="monetization" class="hidden">
    <h2>ğŸ’° Store & Support</h2>
    
    <div class="purchase-options">
      <!-- Gold Thermometer -->
      <div class="purchase-item">
        <div style="display: flex; align-items: center; margin-bottom: 10px;">
          <span style="font-size: 24px; margin-right: 10px;">ğŸ¥‡</span>
          <div>
            <h4 style="margin: 0;">Gold Thermometer - $1.99</h4>
            <p style="margin: 5px 0 0 0; font-size: 14px; opacity: 0.8;">Shiny gold thermometer skin</p>
          </div>
        </div>
        <div id="paypal-gold-thermometer" class="paypal-button"></div>
      </div>
      
      <!-- Remove Ads -->
      <div class="purchase-item">
        <div style="display: flex; align-items: center; margin-bottom: 10px;">
          <span style="font-size: 24px; margin-right: 10px;">âœ¨</span>
          <div>
            <h4 style="margin: 0;">Remove All Ads - $4.99</h4>
            <p style="margin: 5px 0 0 0; font-size: 14px; opacity: 0.8;">Play without interruptions</p>
          </div>
        </div>
        <div id="paypal-remove-ads" class="paypal-button"></div>
      </div>
      
      <!-- Hint Pack -->
      <div class="purchase-item">
        <div style="display: flex; align-items: center; margin-bottom: 10px;">
          <span style="font-size: 24px; margin-right: 10px;">ğŸ’¡</span>
          <div>
            <h4 style="margin: 0;">Hint Pack (3 Hints) - $0.99</h4>
            <p style="margin: 5px 0 0 0; font-size: 14px; opacity: 0.8;">3 hints for when you're stuck</p>
          </div>
        </div>
        <div id="paypal-hint-pack" class="paypal-button"></div>
      </div>
      
      <!-- Donation -->
      <div class="purchase-item">
        <div style="display: flex; align-items: center; margin-bottom: 10px;">
          <span style="font-size: 24px; margin-right: 10px;">â˜•</span>
          <div>
            <h4 style="margin: 0;">Buy Developer Coffee</h4>
            <p style="margin: 5px 0 0 0; font-size: 14px; opacity: 0.8;">Support the developer</p>
          </div>
        </div>
        <div id="paypal-coffee" class="paypal-button"></div>
      </div>
      
      <button onclick="closeMonetization()" style="background: #6b7280; margin-top: 20px;">
        â† Back to Game
      </button>
    </div>
  </div>

</div>

<!-- Sound Effects (hidden audio elements) -->
<audio id="winSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3" preload="auto"></audio>
<audio id="guessSound" src="https://assets.mixkit.co/sfx/preview/mixkit-plastic-bubble-click-1124.mp3" preload="auto"></audio>
<audio id="hintSound" src="https://assets.mixkit.co/sfx/preview/mixkit-magic-sparkles-300.mp3" preload="auto"></audio>

<!-- Game JavaScript -->
<script src="game.js"></script>

<!-- PayPal Buttons Setup (FIXED VERSION) -->
<script>
  // Force PayPal to load properly
  function loadPayPalButtons() {
    if (window.paypal && window.paypal.HostedButtons) {
      console.log("âœ… PayPal loaded, creating buttons...");
      
      try {
        // Gold Thermometer
        paypal.HostedButtons({
          hostedButtonId: "H9WB3TEW5VQFG",
          onApprove: function(data, actions) {
            localStorage.setItem("goldThermometer", "true");
            alert("ğŸ‰ Gold Thermometer purchased! Restart game to see gold colors.");
            closeMonetization();
            return actions.restart();
          }
        }).render("#paypal-gold-thermometer");
        
        // Remove Ads
        paypal.HostedButtons({
          hostedButtonId: "3ZTECSYKCCYN8",
          onApprove: function(data, actions) {
            localStorage.setItem("adFree", "true");
            alert("âœ¨ Thank you! All ads removed from your game.");
            closeMonetization();
            return actions.restart();
          }
        }).render("#paypal-remove-ads");
        
        // Hint Pack
        paypal.HostedButtons({
          hostedButtonId: "7S553NMVCR4H4",
          onApprove: function(data, actions) {
            let boughtHints = parseInt(localStorage.getItem("boughtHints")) || 0;
            boughtHints += 3;
            localStorage.setItem("boughtHints", boughtHints);
            alert(`ğŸ’¡ Hint pack purchased! You now have ${boughtHints} extra hints.`);
            closeMonetization();
            return actions.restart();
          }
        }).render("#paypal-hint-pack");
        
        // Coffee
        paypal.HostedButtons({
          hostedButtonId: "3VKBM98YVCLFG",
          onApprove: function(data, actions) {
            alert("â˜• Thank you for your support! You just bought me a coffee!");
            closeMonetization();
            return actions.restart();
          }
        }).render("#paypal-coffee");
        
        console.log("âœ… All PayPal buttons created!");
      } catch (error) {
        console.error("âŒ PayPal button error:", error);
      }
    } else {
      console.log("â³ PayPal not ready, trying again...");
      setTimeout(loadPayPalButtons, 500);
    }
  }
  
  // Start loading PayPal buttons
  document.addEventListener('DOMContentLoaded', loadPayPalButtons);
</script>

</body>
</html>
